import{c as Rn,r as m,g as He,k as le,j as s,P as ne,m as G,t as Ue,S as _e,x as En,l as ft,a as B,R as l,B as ie,q as st,J as it,h as Cn}from"./index-CqZJ6uVe.js";import{R as Tn,h as Sn,a as Nn,F as In,D as On,P as An,u as De}from"./index-Cy0FBPsm.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Mn(e){const[t,n]=m.useState(!1);return m.useEffect(()=>{function r(o){n(o.matches)}const a=matchMedia(e);return a.addEventListener("change",r),n(a.matches),()=>a.removeEventListener("change",r)},[e]),t}var We="Dialog",[mt,Ar]=He(We),[$n,Y]=mt(We),gt=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,u=m.useRef(null),p=m.useRef(null),[h=!1,S]=ft({prop:r,defaultProp:a,onChange:o});return s.jsx($n,{scope:t,triggerRef:u,contentRef:p,contentId:De(),titleId:De(),descriptionId:De(),open:h,onOpenChange:S,onOpenToggle:m.useCallback(()=>S(g=>!g),[S]),modal:i,children:n})};gt.displayName=We;var pt="DialogTrigger",ht=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(pt,n),o=le(t,a.triggerRef);return s.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Be(a.open),...r,ref:o,onClick:G(e.onClick,a.onOpenToggle)})});ht.displayName=pt;var Ve="DialogPortal",[Pn,vt]=mt(Ve,{forceMount:void 0}),wt=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=Y(Ve,t);return s.jsx(Pn,{scope:t,forceMount:n,children:m.Children.map(r,i=>s.jsx(Ue,{present:n||o.open,children:s.jsx(An,{asChild:!0,container:a,children:i})}))})};wt.displayName=Ve;var Re="DialogOverlay",bt=m.forwardRef((e,t)=>{const n=vt(Re,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Y(Re,e.__scopeDialog);return o.modal?s.jsx(Ue,{present:r||o.open,children:s.jsx(_n,{...a,ref:t})}):null});bt.displayName=Re;var _n=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(Re,n);return s.jsx(Tn,{as:_e,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ne.div,{"data-state":Be(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),te="DialogContent",xt=m.forwardRef((e,t)=>{const n=vt(te,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Y(te,e.__scopeDialog);return s.jsx(Ue,{present:r||o.open,children:o.modal?s.jsx(Fn,{...a,ref:t}):s.jsx(Ln,{...a,ref:t})})});xt.displayName=te;var Fn=m.forwardRef((e,t)=>{const n=Y(te,e.__scopeDialog),r=m.useRef(null),a=le(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Sn(o)},[]),s.jsx(yt,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0;(i.button===2||u)&&o.preventDefault()}),onFocusOutside:G(e.onFocusOutside,o=>o.preventDefault())})}),Ln=m.forwardRef((e,t)=>{const n=Y(te,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(yt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,u;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var p,h;(p=e.onInteractOutside)==null||p.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),yt=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,u=Y(te,n),p=m.useRef(null),h=le(t,p);return Nn(),s.jsxs(s.Fragment,{children:[s.jsx(In,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(On,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Be(u.open),...i,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(kn,{titleId:u.titleId}),s.jsx(Un,{contentRef:p,descriptionId:u.descriptionId})]})]})}),ze="DialogTitle",Dt=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(ze,n);return s.jsx(ne.h2,{id:a.titleId,...r,ref:t})});Dt.displayName=ze;var Rt="DialogDescription",Et=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(Rt,n);return s.jsx(ne.p,{id:a.descriptionId,...r,ref:t})});Et.displayName=Rt;var Ct="DialogClose",Tt=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(Ct,n);return s.jsx(ne.button,{type:"button",...r,ref:t,onClick:G(e.onClick,()=>a.onOpenChange(!1))})});Tt.displayName=Ct;function Be(e){return e?"open":"closed"}var St="DialogTitleWarning",[jr,Nt]=En(St,{contentName:te,titleName:ze,docsSlug:"dialog"}),kn=({titleId:e})=>{const t=Nt(St),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Hn="DialogDescriptionWarning",Un=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nt(Hn).contentName}}.`;return m.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},It=gt,Ot=ht,At=wt,Ge=bt,Ye=xt,Ke=Dt,Xe=Et,qe=Tt;const Wn=It,Vn=Ot,zn=At,Bn=qe,jt=m.forwardRef(({className:e,...t},n)=>s.jsx(Ge,{ref:n,className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jt.displayName=Ge.displayName;const Mt=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(zn,{children:[s.jsx(jt,{}),s.jsxs(Ye,{ref:r,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(qe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(jn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mt.displayName=Ye.displayName;const $t=({className:e,...t})=>s.jsx("div",{className:B("flex flex-col space-y-1.5 text-left",e),...t});$t.displayName="DialogHeader";const Pt=({className:e,...t})=>s.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pt.displayName="DialogFooter";const _t=m.forwardRef(({className:e,...t},n)=>s.jsx(Ke,{ref:n,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));_t.displayName=Ke.displayName;const Ft=m.forwardRef(({className:e,...t},n)=>s.jsx(Xe,{ref:n,className:B("text-sm text-muted-foreground",e),...t}));Ft.displayName=Xe.displayName;function Gn(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Lt=l.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,handleOnly:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),Ee=()=>{const e=l.useContext(Lt);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Gn("[vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-handle]{display:block;position:relative;opacity:.8;margin-left:auto;margin-right:auto;height:5px;width:56px;border-radius:1rem;touch-action:pan-y;cursor:grab}[vaul-handle]:active,[vaul-handle]:hover{opacity:1}[vaul-handle]:active{cursor:grabbing}[vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}@media (hover:hover) and (pointer:fine){[vaul-drawer]{user-select:none}}@media (pointer:fine){[vaul-handle-hitarea]:{width:100%;height:100%}}");const Yn=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Fe(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function Kn(){return Je(/^Mac/)}function Xn(){return Je(/^iPhone/)}function qn(){return Je(/^iPad/)||Kn()&&navigator.maxTouchPoints>1}function kt(){return Xn()||qn()}function Je(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const je=typeof document<"u"&&window.visualViewport;function lt(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Ht(e){for(lt(e)&&(e=e.parentElement);e&&!lt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Jn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let be=0,Me;function Qn(e={}){let{isDisabled:t}=e;Yn(()=>{if(!t)return be++,be===1&&(kt()?Me=er():Me=Zn()),()=>{be--,be===0&&Me()}},[t])}function Zn(){return Fe(Ut(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function er(){let e,t=0,n=g=>{e=Ht(g.target),!(e===document.documentElement&&e===document.body)&&(t=g.changedTouches[0].pageY)},r=g=>{if(!e||e===document.documentElement||e===document.body){g.preventDefault();return}let f=g.changedTouches[0].pageY,d=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((d<=0&&f>t||d>=v&&f<t)&&g.preventDefault(),t=f)},a=g=>{let f=g.target;Le(f)&&f!==document.activeElement&&(g.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},o=g=>{let f=g.target;Le(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",je&&(je.height<window.innerHeight?requestAnimationFrame(()=>{ct(f)}):je.addEventListener("resize",()=>ct(f),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},u=window.pageXOffset,p=window.pageYOffset,h=Fe(Ut(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let S=Fe(me(document,"touchstart",n,{passive:!1,capture:!0}),me(document,"touchmove",r,{passive:!1,capture:!0}),me(document,"touchend",a,{passive:!1,capture:!0}),me(document,"focus",o,!0),me(window,"scroll",i));return()=>{h(),S(),window.scrollTo(u,p)}}function Ut(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function me(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function ct(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=Ht(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const i=n.getBoundingClientRect().bottom;o>i&&(n.scrollTop+=a-r)}e=n.parentElement}}function Le(e){return e instanceof HTMLInputElement&&!Jn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function tr(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function nr(...e){return t=>e.forEach(n=>tr(n,t))}function Wt(...e){return m.useCallback(nr(...e),e)}let ge=null;function rr({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:o}){const[i,u]=l.useState(()=>typeof window<"u"?window.location.href:""),p=l.useRef(0),h=l.useCallback(()=>{if(ge===null&&e&&!o){ge={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-p.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const d=f-window.innerHeight;d&&p.current>=f&&(document.body.style.top=`${-(p.current+d)}px`)}),300)}},[e]),S=l.useCallback(()=>{if(ge!==null&&!o){const g=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ge),window.requestAnimationFrame(()=>{if(a&&i!==window.location.href){u(window.location.href);return}window.scrollTo(f,g)}),ge=null}},[i]);return l.useEffect(()=>{function g(){p.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),l.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&h(),t||window.setTimeout(()=>{S()},500)):S())},[e,r,i,t,n,h,S]),{restorePositionSetting:S}}const Vt=new WeakMap;function A(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}r[a]=e.style[a],e.style[a]=o}),!n&&Vt.set(e,r)}function xe(e,t){if(!e||!(e instanceof HTMLElement))return;let n=Vt.get(e);n&&(t?e.style[t]=n[t]:Object.entries(n).forEach(([r,a])=>{e.style[r]=a}))}const L=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ye(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[L(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[L(t)?5:4]):null)}function or(e){return 8*(Math.log(e+1)-2)}const O={DURATION:.5,EASE:[.32,.72,0,1]},zt=.4;function Bt(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function ar({defaultProp:e,onChange:t}){const n=l.useState(e),[r]=n,a=l.useRef(r),o=Bt(t);return l.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}function sr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=ar({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,u=Bt(n),p=l.useCallback(h=>{if(o){const g=typeof h=="function"?h(e):h;g!==e&&u(g)}else a(h)},[o,e,a,u]);return[i,p]}function ir({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:o,onSnapPointChange:i,direction:u="bottom"}){const[p,h]=sr({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),S=l.useMemo(()=>p===(n==null?void 0:n[n.length-1])||null,[n,p]),g=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===p||!n,f=l.useMemo(()=>n==null?void 0:n.findIndex(y=>y===p),[n,p]),d=l.useMemo(()=>{var y;return(y=n==null?void 0:n.map(c=>{const C=typeof window<"u",P=typeof c=="string";let $=0;if(P&&($=parseInt(c,10)),L(u)){const w=P?$:C?c*window.innerHeight:0;return C?u==="bottom"?window.innerHeight-w:-window.innerHeight+w:w}const T=P?$:C?c*window.innerWidth:0;return C?u==="right"?window.innerWidth-T:-window.innerWidth+T:T}))!=null?y:[]},[n]),v=l.useMemo(()=>f!==null?d==null?void 0:d[f]:null,[d,f]),R=l.useCallback(y=>{var c;const C=(c=d==null?void 0:d.findIndex(P=>P===y))!=null?c:null;i(C),A(r.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:L(u)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`}),d&&C!==d.length-1&&C!==o?A(a.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):A(a.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),h(C!==null?n==null?void 0:n[C]:null)},[r.current,n,d,o,a,h]);l.useEffect(()=>{if(p||e){var y;const c=(y=n==null?void 0:n.findIndex(C=>C===e||C===p))!=null?y:-1;d&&c!==-1&&typeof d[c]=="number"&&R(d[c])}},[p,e,n,d,R]);function M({draggedDistance:y,closeDrawer:c,velocity:C,dismissible:P}){if(o===void 0)return;const $=u==="bottom"||u==="right"?(v??0)-y:(v??0)+y,T=f===o-1,w=f===0,k=y>0;if(T&&A(a.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),C>2&&!k){P?c():R(d[0]);return}if(C>2&&k&&d&&n){R(d[n.length-1]);return}const V=d==null?void 0:d.reduce((H,X)=>typeof H!="number"||typeof X!="number"?H:Math.abs(X-$)<Math.abs(H-$)?X:H),U=L(u)?window.innerHeight:window.innerWidth;if(C>zt&&Math.abs(y)<U*.4){const H=k?1:-1;if(H>0&&S){R(d[n.length-1]);return}if(w&&H<0&&P&&c(),f===null)return;R(d[f+H]);return}R(V)}function N({draggedDistance:y}){if(v===null)return;const c=u==="bottom"||u==="right"?v-y:v+y;(u==="bottom"||u==="right")&&c<d[d.length-1]||(u==="top"||u==="left")&&c>d[d.length-1]||A(r.current,{transform:L(u)?`translate3d(0, ${c}px, 0)`:`translate3d(${c}px, 0, 0)`})}function I(y,c){if(!n||typeof f!="number"||!d||o===void 0)return null;const C=f===o-1;if(f>=o&&c)return 0;if(C&&!c)return 1;if(!g&&!C)return null;const $=C?f+1:f-1,T=C?d[$]-d[$-1]:d[$+1]-d[$],w=y/Math.abs(T);return C?1-w:w}return{isLastSnapPoint:S,activeSnapPoint:p,shouldFade:g,getPercentageDragged:I,setActiveSnapPoint:h,activeSnapPointIndex:f,onRelease:M,onDrag:N,snapPointsOffset:d}}const lr=.25,cr=100,ut=8,ee=16,dt=26,$e="vaul-dragging";function Gt({open:e,onOpenChange:t,children:n,shouldScaleBackground:r,onDrag:a,onRelease:o,snapPoints:i,nested:u=!1,setBackgroundColorOnScale:p=!0,closeThreshold:h=lr,scrollLockTimeout:S=cr,dismissible:g=!0,handleOnly:f=!1,fadeFromIndex:d=i&&i.length-1,activeSnapPoint:v,setActiveSnapPoint:R,fixed:M,modal:N=!0,onClose:I,noBodyStyles:y,direction:c="bottom",preventScrollRestoration:C=!0,disablePreventScroll:P=!1}){var $;const[T=!1,w]=l.useState(!1),[k,V]=l.useState(!1),[U,H]=l.useState(!1),[X,re]=l.useState(!1),[W,Te]=l.useState(!1),[cn,Qe]=l.useState(!1),Q=l.useRef(null),pe=l.useRef(null),Se=l.useRef(null),Ne=l.useRef(null),ce=l.useRef(null),ue=l.useRef(!1),Ie=l.useRef(null),Oe=l.useRef(0),oe=l.useRef(!1),Ze=l.useRef(0),x=l.useRef(null),et=l.useRef((($=x.current)==null?void 0:$.getBoundingClientRect().height)||0),Ae=l.useRef(0),un=l.useCallback(b=>{i&&b===fe.length-1&&(pe.current=new Date)},[]),{activeSnapPoint:dn,activeSnapPointIndex:de,setActiveSnapPoint:tt,onRelease:fn,snapPointsOffset:fe,onDrag:mn,shouldFade:nt,getPercentageDragged:gn}=ir({snapPoints:i,activeSnapPointProp:v,setActiveSnapPointProp:R,drawerRef:x,fadeFromIndex:d,overlayRef:Q,onSnapPointChange:un,direction:c});Qn({isDisabled:!T||W||!N||cn||!k||P});const{restorePositionSetting:pn}=rr({isOpen:T,modal:N,nested:u,hasBeenOpened:k,preventScrollRestoration:C,noBodyStyles:y});function ae(){return(window.innerWidth-dt)/window.innerWidth}function hn(b){var D;!g&&!i||x.current&&!x.current.contains(b.target)||(et.current=((D=x.current)==null?void 0:D.getBoundingClientRect().height)||0,Te(!0),Se.current=new Date,kt()&&window.addEventListener("touchend",()=>ue.current=!1,{once:!0}),b.target.setPointerCapture(b.pointerId),Oe.current=L(c)?b.clientY:b.clientX)}function rt(b,D){var j;let E=b;const _=(j=window.getSelection())==null?void 0:j.toString(),F=x.current?ye(x.current,c):null,z=new Date;if(E.hasAttribute("data-vaul-no-drag")||E.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(pe.current&&z.getTime()-pe.current.getTime()<500)return!1;if(F!==null&&(c==="bottom"?F>0:F<0))return!0;if(_&&_.length>0)return!1;if(ce.current&&z.getTime()-ce.current.getTime()<S&&F===0||D)return ce.current=z,!1;for(;E;){if(E.scrollHeight>E.clientHeight){if(E.scrollTop!==0)return ce.current=new Date,!1;if(E.getAttribute("role")==="dialog")return!0}E=E.parentNode}return!0}function vn(b){if(x.current&&W){const D=c==="bottom"||c==="right"?1:-1,j=(Oe.current-(L(c)?b.clientY:b.clientX))*D,E=j>0,_=i&&!g&&!E;if(_&&de===0)return;const F=Math.abs(j),z=document.querySelector("[vaul-drawer-wrapper]");let q=F/et.current;const J=gn(F,E);if(J!==null&&(q=J),_&&q>=1||!ue.current&&!rt(b.target,E))return;if(x.current.classList.add($e),ue.current=!0,A(x.current,{transition:"none"}),A(Q.current,{transition:"none"}),i&&mn({draggedDistance:j}),E&&!i){const Z=or(j),we=Math.min(Z*-1,0)*D;A(x.current,{transform:L(c)?`translate3d(0, ${we}px, 0)`:`translate3d(${we}px, 0, 0)`});return}const ve=1-q;if((nt||d&&de===d-1)&&(a==null||a(b,q),A(Q.current,{opacity:`${ve}`,transition:"none"},!0)),z&&Q.current&&r){const Z=Math.min(ae()+q*(1-ae()),1),we=8-q*8,at=Math.max(0,14-q*14);A(z,{borderRadius:`${we}px`,transform:L(c)?`scale(${Z}) translate3d(0, ${at}px, 0)`:`scale(${Z}) translate3d(${at}px, 0, 0)`,transition:"none"},!0)}if(!i){const Z=F*D;A(x.current,{transform:L(c)?`translate3d(0, ${Z}px, 0)`:`translate3d(${Z}px, 0, 0)`})}}}l.useEffect(()=>()=>{he(!1),pn()},[]),l.useEffect(()=>{var b;function D(){if(!x.current)return;const j=document.activeElement;if(Le(j)||oe.current){var E;const _=((E=window.visualViewport)==null?void 0:E.height)||0;let F=window.innerHeight-_;const z=x.current.getBoundingClientRect().height||0;Ae.current||(Ae.current=z);const q=x.current.getBoundingClientRect().top;if(Math.abs(Ze.current-F)>60&&(oe.current=!oe.current),i&&i.length>0&&fe&&de){const J=fe[de]||0;F+=J}if(Ze.current=F,z>_||oe.current){const J=x.current.getBoundingClientRect().height;let ve=J;J>_&&(ve=_-dt),M?x.current.style.height=`${J-Math.max(F,0)}px`:x.current.style.height=`${Math.max(ve,_-q)}px`}else x.current.style.height=`${Ae.current}px`;i&&i.length>0&&!oe.current?x.current.style.bottom="0px":x.current.style.bottom=`${Math.max(F,0)}px`}}return(b=window.visualViewport)==null||b.addEventListener("resize",D),()=>{var j;return(j=window.visualViewport)==null?void 0:j.removeEventListener("resize",D)}},[de,i,fe]);function se(){x.current&&(wn(),I==null||I(),A(x.current,{transform:L(c)?`translate3d(0, ${c==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${c==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),A(Q.current,{opacity:"0",transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),he(!1),setTimeout(()=>{H(!1),w(!1)},300),setTimeout(()=>{i&&tt(i[0])},O.DURATION*1e3))}l.useEffect(()=>{if(!T&&r){const b=setTimeout(()=>{xe(document.body)},200);return()=>clearTimeout(b)}},[T,r]),l.useLayoutEffect(()=>{e?(w(!0),V(!0)):se()},[e]),l.useEffect(()=>{X&&(t==null||t(T))},[T]),l.useEffect(()=>{re(!0)},[]);function ot(){if(!x.current)return;const b=document.querySelector("[vaul-drawer-wrapper]"),D=ye(x.current,c);A(x.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),A(Q.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),r&&D&&D>0&&T&&A(b,{borderRadius:`${ut}px`,overflow:"hidden",...L(c)?{transform:`scale(${ae()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ae()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function wn(){!W||!x.current||(x.current.classList.remove($e),ue.current=!1,Te(!1),Ne.current=new Date)}function bn(b){if(!W||!x.current)return;x.current.classList.remove($e),ue.current=!1,Te(!1),Ne.current=new Date;const D=ye(x.current,c);if(!rt(b.target,!1)||!D||Number.isNaN(D)||Se.current===null)return;const j=Ne.current.getTime()-Se.current.getTime(),E=Oe.current-(L(c)?b.clientY:b.clientX),_=Math.abs(E)/j;if(_>.05&&(Qe(!0),setTimeout(()=>{Qe(!1)},200)),i){fn({draggedDistance:E*(c==="bottom"||c==="right"?1:-1),closeDrawer:se,velocity:_,dismissible:g}),o==null||o(b,!0);return}if(c==="bottom"||c==="right"?E>0:E<0){ot(),o==null||o(b,!0);return}if(_>zt){se(),o==null||o(b,!1);return}var F;const z=Math.min((F=x.current.getBoundingClientRect().height)!=null?F:0,window.innerHeight);if(D>=z*h){se(),o==null||o(b,!1);return}o==null||o(b,!0),ot()}l.useEffect(()=>{T&&(A(document.documentElement,{scrollBehavior:"auto"}),pe.current=new Date,he(!0))},[T]),l.useEffect(()=>{if(x.current&&U){var b;const D=x==null||(b=x.current)==null?void 0:b.querySelectorAll("*");D==null||D.forEach(j=>{const E=j;(E.scrollHeight>E.clientHeight||E.scrollWidth>E.clientWidth)&&E.classList.add("vaul-scrollable")})}},[U]);function he(b){const D=document.querySelector("[vaul-drawer-wrapper]");!D||!r||(b?(p&&(y||(A(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),A(document.body,{background:"black"},!0))),A(D,{borderRadius:`${ut}px`,overflow:"hidden",...L(c)?{transform:`scale(${ae()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ae()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`})):(xe(D,"overflow"),xe(D,"transform"),xe(D,"borderRadius"),A(D,{transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`})))}function xn(b){const D=b?(window.innerWidth-ee)/window.innerWidth:1,j=b?-ee:0;Ie.current&&window.clearTimeout(Ie.current),A(x.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:`scale(${D}) translate3d(0, ${j}px, 0)`}),!b&&x.current&&(Ie.current=setTimeout(()=>{const E=ye(x.current,c);A(x.current,{transition:"none",transform:L(c)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})},500))}function yn(b,D){if(D<0)return;const j=L(c)?window.innerHeight:window.innerWidth,E=(j-ee)/j,_=E+D*(1-E),F=-ee+D*ee;A(x.current,{transform:L(c)?`scale(${_}) translate3d(0, ${F}px, 0)`:`scale(${_}) translate3d(${F}px, 0, 0)`,transition:"none"})}function Dn(b,D){const j=L(c)?window.innerHeight:window.innerWidth,E=D?(j-ee)/j:1,_=D?-ee:0;D&&A(x.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:L(c)?`scale(${E}) translate3d(0, ${_}px, 0)`:`scale(${E}) translate3d(${_}px, 0, 0)`})}return l.createElement(It,{modal:N,onOpenChange:b=>{if(e!==void 0){t==null||t(b);return}b?(V(!0),w(b)):se()},open:T},l.createElement(Lt.Provider,{value:{visible:U,activeSnapPoint:dn,snapPoints:i,setActiveSnapPoint:tt,drawerRef:x,overlayRef:Q,scaleBackground:he,onOpenChange:t,onPress:hn,setVisible:H,onRelease:bn,onDrag:vn,dismissible:g,handleOnly:f,isOpen:T,isDragging:W,shouldFade:nt,closeDrawer:se,onNestedDrag:yn,onNestedOpenChange:xn,onNestedRelease:Dn,keyboardIsOpen:oe,openProp:e,modal:N,snapPointsOffset:fe,direction:c}},n))}const ur=250,dr=120,Yt=l.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{visible:a,closeDrawer:o,isDragging:i,snapPoints:u,activeSnapPoint:p,setActiveSnapPoint:h,dismissible:S,handleOnly:g,onPress:f,onDrag:d}=Ee(),v=l.useRef(null),R=l.useRef(!1);function M(){if(R.current){y();return}window.setTimeout(()=>{N()},dr)}function N(){if(i||e||R.current){y();return}if(y(),(!u||u.length===0)&&S){o();return}if(p===u[u.length-1]&&S){o();return}const C=u.findIndex($=>$===p);if(C===-1)return;const P=u[C+1];h(P)}function I(){v.current=window.setTimeout(()=>{R.current=!0},ur)}function y(){window.clearTimeout(v.current),R.current=!1}return l.createElement("div",{onClick:M,onDoubleClick:()=>{R.current=!0,o()},onPointerCancel:y,onPointerDown:c=>{g&&f(c),I()},onPointerMove:c=>{g&&d(c)},ref:r,"vaul-drawer-visible":a?"true":"false","vaul-handle":"","aria-hidden":"true",...n},l.createElement("span",{"vaul-handle-hitarea":"","aria-hidden":"true"},t))});Yt.displayName="Drawer.Handle";const Kt=l.forwardRef(function({children:e,...t},n){const{overlayRef:r,snapPoints:a,onRelease:o,shouldFade:i,isOpen:u,visible:p}=Ee(),h=Wt(n,r),S=a&&a.length>0;return l.createElement(Ge,{onMouseUp:o,ref:h,"vaul-drawer-visible":p?"true":"false","vaul-overlay":"","vaul-snap-points":u&&S?"true":"false","vaul-snap-points-overlay":u&&i?"true":"false",...t})});Kt.displayName="Drawer.Overlay";const Xt=l.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:t,onAnimationEnd:n,style:r,...a},o){const{drawerRef:i,onPress:u,onRelease:p,onDrag:h,dismissible:S,keyboardIsOpen:g,snapPointsOffset:f,visible:d,closeDrawer:v,modal:R,openProp:M,onOpenChange:N,setVisible:I,handleOnly:y,direction:c}=Ee(),C=Wt(o,i),P=l.useRef(null),$=l.useRef(!1),T=(w,k,V=0)=>{if($.current)return!0;const U=Math.abs(w.y),H=Math.abs(w.x),X=H>U,re=["bottom","right"].includes(k)?1:-1;if(k==="left"||k==="right"){if(!(w.x*re<0)&&H>=0&&H<=V)return X}else if(!(w.y*re<0)&&U>=0&&U<=V)return!X;return $.current=!0,!0};return l.useEffect(()=>{I(!0)},[]),l.createElement(Ye,{"vaul-drawer":"","vaul-drawer-direction":c,"vaul-drawer-visible":d?"true":"false",...a,ref:C,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...r}:r,onOpenAutoFocus:w=>{if(e)e(w);else{var k;w.preventDefault(),(k=i.current)==null||k.focus()}},onPointerDown:w=>{y||(a.onPointerDown==null||a.onPointerDown.call(a,w),P.current={x:w.clientX,y:w.clientY},u(w))},onPointerDownOutside:w=>{if(t==null||t(w),!R||w.defaultPrevented){w.preventDefault();return}g.current&&(g.current=!1),w.preventDefault(),N==null||N(!1),!(!S||M!==void 0)&&v()},onFocusOutside:w=>{if(!R){w.preventDefault();return}},onEscapeKeyDown:w=>{if(!R){w.preventDefault();return}},onPointerMove:w=>{if(y||(a.onPointerMove==null||a.onPointerMove.call(a,w),!P.current))return;const k=w.clientY-P.current.y,V=w.clientX-P.current.x,U=w.pointerType==="touch"?10:2;T({x:V,y:k},c,U)?h(w):(Math.abs(V)>U||Math.abs(k)>U)&&(P.current=null)},onPointerUp:w=>{a.onPointerUp==null||a.onPointerUp.call(a,w),P.current=null,$.current=!1,p(w)}})});Xt.displayName="Drawer.Content";function fr({onDrag:e,onOpenChange:t,...n}){const{onNestedDrag:r,onNestedOpenChange:a,onNestedRelease:o}=Ee();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return l.createElement(Gt,{nested:!0,onClose:()=>{a(!1)},onDrag:(i,u)=>{r(i,u),e==null||e(i,u)},onOpenChange:i=>{i&&a(i),t==null||t(i)},onRelease:o,...n})}const K={Root:Gt,NestedRoot:fr,Content:Xt,Handle:Yt,Overlay:Kt,Trigger:Ot,Portal:At,Close:qe,Title:Ke,Description:Xe},qt=({shouldScaleBackground:e=!0,...t})=>s.jsx(K.Root,{shouldScaleBackground:e,...t});qt.displayName="Drawer";const mr=K.Trigger,gr=K.Portal,pr=K.Close,Jt=m.forwardRef(({className:e,...t},n)=>s.jsx(K.Overlay,{ref:n,className:B("fixed inset-0 z-50 bg-black/80",e),...t}));Jt.displayName=K.Overlay.displayName;const Qt=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(gr,{children:[s.jsx(Jt,{}),s.jsxs(K.Content,{ref:r,className:B("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[s.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));Qt.displayName="DrawerContent";const Zt=({className:e,...t})=>s.jsx("div",{className:B("grid gap-1.5 p-4 text-left",e),...t});Zt.displayName="DrawerHeader";const en=({className:e,...t})=>s.jsx("div",{className:B("mt-auto flex flex-col gap-2 p-4",e),...t});en.displayName="DrawerFooter";const tn=m.forwardRef(({className:e,...t},n)=>s.jsx(K.Title,{ref:n,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));tn.displayName=K.Title.displayName;const nn=m.forwardRef(({className:e,...t},n)=>s.jsx(K.Description,{ref:n,className:B("text-sm text-muted-foreground",e),...t}));nn.displayName=K.Description.displayName;const Mr=({id:e,action:t,actionLabel:n,title:r,description:a,successMessage:o=null,trigger:i,variant:u="outline",triggerVariant:p})=>{const[h,S]=m.useState(!1),[g,f]=m.useState(!1),[d,v]=m.useState(null),R=Mn("(min-width: 768px)"),M=async y=>{y.preventDefault(),f(!0);try{await t(e),o&&it.success(o),S(!1)}catch{it.error("Une erreur est survenue, veuillez contacter le support.")}f(!1)},N=()=>s.jsxs(s.Fragment,{children:[s.jsxs($t,{children:[s.jsx(_t,{className:u=="destructive"&&"text-destructive",children:r}),s.jsx(Ft,{children:a})]}),d&&s.jsx("p",{className:"text-destructive text-sm",children:d}),s.jsx(Pt,{className:"sm:justify-start",children:s.jsxs("div",{className:"w-full flex items-center justify-between",children:[s.jsx(ie,{onClick:M,variant:u,disabled:g,children:g?s.jsx(st,{className:"animate-spin"}):n}),s.jsx(Bn,{asChild:!0,children:s.jsx(ie,{variant:"outline",children:"Annuler"})})]})})]}),I=()=>s.jsxs(s.Fragment,{children:[s.jsxs(Zt,{children:[s.jsx(tn,{className:u=="destructive"&&"text-destructive",children:r}),s.jsx(nn,{children:a})]}),d&&s.jsx("p",{className:"text-destructive text-sm",children:d}),s.jsx(en,{className:"pt-2",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{className:"w-full",onClick:M,variant:u,disabled:g,children:g?s.jsx(st,{className:"animate-spin"}):n}),s.jsx(pr,{asChild:!0,children:s.jsx(ie,{className:"w-full",variant:"outline",children:"Annuler"})})]})})]});return s.jsx(s.Fragment,{children:R?s.jsxs(Wn,{open:h,onOpenChange:S,children:[s.jsx(Vn,{asChild:!0,children:s.jsx(ie,{variant:p||u,children:i})}),s.jsx(Mt,{className:"sm:max-w-[425px]",children:s.jsx(N,{})})]}):s.jsxs(qt,{open:h,onOpenChange:S,children:[s.jsx(mr,{asChild:!0,children:s.jsx(ie,{variant:p||u,children:i})}),s.jsx(Qt,{children:s.jsx(I,{})})]})})};function hr(e){const t=e+"CollectionProvider",[n,r]=He(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=d=>{const{scope:v,children:R}=d,M=l.useRef(null),N=l.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:N,collectionRef:M,children:R})};i.displayName=t;const u=e+"CollectionSlot",p=l.forwardRef((d,v)=>{const{scope:R,children:M}=d,N=o(u,R),I=le(v,N.collectionRef);return s.jsx(_e,{ref:I,children:M})});p.displayName=u;const h=e+"CollectionItemSlot",S="data-radix-collection-item",g=l.forwardRef((d,v)=>{const{scope:R,children:M,...N}=d,I=l.useRef(null),y=le(v,I),c=o(h,R);return l.useEffect(()=>(c.itemMap.set(I,{ref:I,...N}),()=>void c.itemMap.delete(I))),s.jsx(_e,{[S]:"",ref:y,children:M})});g.displayName=h;function f(d){const v=o(e+"CollectionConsumer",d);return l.useCallback(()=>{const M=v.collectionRef.current;if(!M)return[];const N=Array.from(M.querySelectorAll(`[${S}]`));return Array.from(v.itemMap.values()).sort((c,C)=>N.indexOf(c.ref.current)-N.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:p,ItemSlot:g},f,r]}var vr=m.createContext(void 0);function wr(e){const t=m.useContext(vr);return e||t||"ltr"}var Pe="rovingFocusGroup.onEntryFocus",br={bubbles:!1,cancelable:!0},Ce="RovingFocusGroup",[ke,rn,xr]=hr(Ce),[yr,$r]=He(Ce,[xr]),[Dr,Rr]=yr(Ce),on=m.forwardRef((e,t)=>s.jsx(ke.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ke.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Er,{...e,ref:t})})}));on.displayName=Ce;var Er=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:h,preventScrollOnEntryFocus:S=!1,...g}=e,f=m.useRef(null),d=le(t,f),v=wr(o),[R=null,M]=ft({prop:i,defaultProp:u,onChange:p}),[N,I]=m.useState(!1),y=Cn(h),c=rn(n),C=m.useRef(!1),[P,$]=m.useState(0);return m.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Pe,y),()=>T.removeEventListener(Pe,y)},[y]),s.jsx(Dr,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:R,onItemFocus:m.useCallback(T=>M(T),[M]),onItemShiftTab:m.useCallback(()=>I(!0),[]),onFocusableItemAdd:m.useCallback(()=>$(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>$(T=>T-1),[]),children:s.jsx(ne.div,{tabIndex:N||P===0?-1:0,"data-orientation":r,...g,ref:d,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{C.current=!0}),onFocus:G(e.onFocus,T=>{const w=!C.current;if(T.target===T.currentTarget&&w&&!N){const k=new CustomEvent(Pe,br);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const V=c().filter(W=>W.focusable),U=V.find(W=>W.active),H=V.find(W=>W.id===R),re=[U,H,...V].filter(Boolean).map(W=>W.ref.current);ln(re,S)}}C.current=!1}),onBlur:G(e.onBlur,()=>I(!1))})})}),an="RovingFocusGroupItem",sn=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...i}=e,u=De(),p=o||u,h=Rr(an,n),S=h.currentTabStopId===p,g=rn(n),{onFocusableItemAdd:f,onFocusableItemRemove:d}=h;return m.useEffect(()=>{if(r)return f(),()=>d()},[r,f,d]),s.jsx(ke.ItemSlot,{scope:n,id:p,focusable:r,active:a,children:s.jsx(ne.span,{tabIndex:S?0:-1,"data-orientation":h.orientation,...i,ref:t,onMouseDown:G(e.onMouseDown,v=>{r?h.onItemFocus(p):v.preventDefault()}),onFocus:G(e.onFocus,()=>h.onItemFocus(p)),onKeyDown:G(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){h.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const R=Sr(v,h.orientation,h.dir);if(R!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let N=g().filter(I=>I.focusable).map(I=>I.ref.current);if(R==="last")N.reverse();else if(R==="prev"||R==="next"){R==="prev"&&N.reverse();const I=N.indexOf(v.currentTarget);N=h.loop?Nr(N,I+1):N.slice(I+1)}setTimeout(()=>ln(N))}})})})});sn.displayName=an;var Cr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tr(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Sr(e,t,n){const r=Tr(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Cr[r]}function ln(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Nr(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Pr=on,_r=sn;export{Wn as D,_r as I,Mr as M,Pr as R,Vn as a,Mt as b,$t as c,_t as d,Ft as e,Pt as f,Bn as g,qt as h,mr as i,Qt as j,Zt as k,tn as l,nn as m,en as n,pr as o,$r as p,wr as q,hr as r,Mn as u};
