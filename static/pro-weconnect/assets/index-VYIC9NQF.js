import{c as Dn,r as m,f as He,i as le,j as s,P as ne,l as G,s as Ue,S as _e,w as Rn,k as dt,a as B,R as c,B as ie,p as st,J as En,g as Cn}from"./index-CIQ4iXq6.js";import{R as Tn,h as Sn,b as Nn,F as In,D as On,a as De,P as An}from"./useAxiosPrivate-BPK9ouQx.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Dn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Mn(e){const[t,n]=m.useState(!1);return m.useEffect(()=>{function r(o){n(o.matches)}const a=matchMedia(e);return a.addEventListener("change",r),n(a.matches),()=>a.removeEventListener("change",r)},[e]),t}var We="Dialog",[ft,jr]=He(We),[$n,Y]=ft(We),mt=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,u=m.useRef(null),g=m.useRef(null),[v=!1,S]=dt({prop:r,defaultProp:a,onChange:o});return s.jsx($n,{scope:t,triggerRef:u,contentRef:g,contentId:De(),titleId:De(),descriptionId:De(),open:v,onOpenChange:S,onOpenToggle:m.useCallback(()=>S(p=>!p),[S]),modal:i,children:n})};mt.displayName=We;var gt="DialogTrigger",pt=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(gt,n),o=le(t,a.triggerRef);return s.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Be(a.open),...r,ref:o,onClick:G(e.onClick,a.onOpenToggle)})});pt.displayName=gt;var Ve="DialogPortal",[Pn,ht]=ft(Ve,{forceMount:void 0}),vt=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=Y(Ve,t);return s.jsx(Pn,{scope:t,forceMount:n,children:m.Children.map(r,i=>s.jsx(Ue,{present:n||o.open,children:s.jsx(An,{asChild:!0,container:a,children:i})}))})};vt.displayName=Ve;var Re="DialogOverlay",wt=m.forwardRef((e,t)=>{const n=ht(Re,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Y(Re,e.__scopeDialog);return o.modal?s.jsx(Ue,{present:r||o.open,children:s.jsx(_n,{...a,ref:t})}):null});wt.displayName=Re;var _n=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(Re,n);return s.jsx(Tn,{as:_e,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ne.div,{"data-state":Be(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),te="DialogContent",bt=m.forwardRef((e,t)=>{const n=ht(te,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Y(te,e.__scopeDialog);return s.jsx(Ue,{present:r||o.open,children:o.modal?s.jsx(Fn,{...a,ref:t}):s.jsx(Ln,{...a,ref:t})})});bt.displayName=te;var Fn=m.forwardRef((e,t)=>{const n=Y(te,e.__scopeDialog),r=m.useRef(null),a=le(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Sn(o)},[]),s.jsx(xt,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0;(i.button===2||u)&&o.preventDefault()}),onFocusOutside:G(e.onFocusOutside,o=>o.preventDefault())})}),Ln=m.forwardRef((e,t)=>{const n=Y(te,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(xt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,u;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var g,v;(g=e.onInteractOutside)==null||g.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((v=n.triggerRef.current)==null?void 0:v.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),xt=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,u=Y(te,n),g=m.useRef(null),v=le(t,g);return Nn(),s.jsxs(s.Fragment,{children:[s.jsx(In,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(On,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Be(u.open),...i,ref:v,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(kn,{titleId:u.titleId}),s.jsx(Un,{contentRef:g,descriptionId:u.descriptionId})]})]})}),ze="DialogTitle",yt=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(ze,n);return s.jsx(ne.h2,{id:a.titleId,...r,ref:t})});yt.displayName=ze;var Dt="DialogDescription",Rt=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(Dt,n);return s.jsx(ne.p,{id:a.descriptionId,...r,ref:t})});Rt.displayName=Dt;var Et="DialogClose",Ct=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Y(Et,n);return s.jsx(ne.button,{type:"button",...r,ref:t,onClick:G(e.onClick,()=>a.onOpenChange(!1))})});Ct.displayName=Et;function Be(e){return e?"open":"closed"}var Tt="DialogTitleWarning",[Mr,St]=Rn(Tt,{contentName:te,titleName:ze,docsSlug:"dialog"}),kn=({titleId:e})=>{const t=St(Tt),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Hn="DialogDescriptionWarning",Un=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${St(Hn).contentName}}.`;return m.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Nt=mt,It=pt,Ot=vt,Ge=wt,Ye=bt,Ke=yt,Xe=Rt,qe=Ct;const Wn=Nt,Vn=It,zn=Ot,Bn=qe,At=m.forwardRef(({className:e,...t},n)=>s.jsx(Ge,{ref:n,className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));At.displayName=Ge.displayName;const jt=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(zn,{children:[s.jsx(At,{}),s.jsxs(Ye,{ref:r,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(qe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(jn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jt.displayName=Ye.displayName;const Mt=({className:e,...t})=>s.jsx("div",{className:B("flex flex-col space-y-1.5 text-left",e),...t});Mt.displayName="DialogHeader";const $t=({className:e,...t})=>s.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$t.displayName="DialogFooter";const Pt=m.forwardRef(({className:e,...t},n)=>s.jsx(Ke,{ref:n,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));Pt.displayName=Ke.displayName;const _t=m.forwardRef(({className:e,...t},n)=>s.jsx(Xe,{ref:n,className:B("text-sm text-muted-foreground",e),...t}));_t.displayName=Xe.displayName;function Gn(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Ft=c.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,handleOnly:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),Ee=()=>{const e=c.useContext(Ft);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Gn("[vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-handle]{display:block;position:relative;opacity:.8;margin-left:auto;margin-right:auto;height:5px;width:56px;border-radius:1rem;touch-action:pan-y;cursor:grab}[vaul-handle]:active,[vaul-handle]:hover{opacity:1}[vaul-handle]:active{cursor:grabbing}[vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}@media (hover:hover) and (pointer:fine){[vaul-drawer]{user-select:none}}@media (pointer:fine){[vaul-handle-hitarea]:{width:100%;height:100%}}");const Yn=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Fe(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function Kn(){return Je(/^Mac/)}function Xn(){return Je(/^iPhone/)}function qn(){return Je(/^iPad/)||Kn()&&navigator.maxTouchPoints>1}function Lt(){return Xn()||qn()}function Je(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const je=typeof document<"u"&&window.visualViewport;function it(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function kt(e){for(it(e)&&(e=e.parentElement);e&&!it(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Jn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let be=0,Me;function Qn(e={}){let{isDisabled:t}=e;Yn(()=>{if(!t)return be++,be===1&&(Lt()?Me=er():Me=Zn()),()=>{be--,be===0&&Me()}},[t])}function Zn(){return Fe(Ht(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function er(){let e,t=0,n=p=>{e=kt(p.target),!(e===document.documentElement&&e===document.body)&&(t=p.changedTouches[0].pageY)},r=p=>{if(!e||e===document.documentElement||e===document.body){p.preventDefault();return}let f=p.changedTouches[0].pageY,d=e.scrollTop,h=e.scrollHeight-e.clientHeight;h!==0&&((d<=0&&f>t||d>=h&&f<t)&&p.preventDefault(),t=f)},a=p=>{let f=p.target;Le(f)&&f!==document.activeElement&&(p.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},o=p=>{let f=p.target;Le(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",je&&(je.height<window.innerHeight?requestAnimationFrame(()=>{lt(f)}):je.addEventListener("resize",()=>lt(f),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},u=window.pageXOffset,g=window.pageYOffset,v=Fe(Ht(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let S=Fe(me(document,"touchstart",n,{passive:!1,capture:!0}),me(document,"touchmove",r,{passive:!1,capture:!0}),me(document,"touchend",a,{passive:!1,capture:!0}),me(document,"focus",o,!0),me(window,"scroll",i));return()=>{v(),S(),window.scrollTo(u,g)}}function Ht(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function me(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function lt(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=kt(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const i=n.getBoundingClientRect().bottom;o>i&&(n.scrollTop+=a-r)}e=n.parentElement}}function Le(e){return e instanceof HTMLInputElement&&!Jn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function tr(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function nr(...e){return t=>e.forEach(n=>tr(n,t))}function Ut(...e){return m.useCallback(nr(...e),e)}let ge=null;function rr({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:o}){const[i,u]=c.useState(()=>typeof window<"u"?window.location.href:""),g=c.useRef(0),v=c.useCallback(()=>{if(ge===null&&e&&!o){ge={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-g.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const d=f-window.innerHeight;d&&g.current>=f&&(document.body.style.top=`${-(g.current+d)}px`)}),300)}},[e]),S=c.useCallback(()=>{if(ge!==null&&!o){const p=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ge),window.requestAnimationFrame(()=>{if(a&&i!==window.location.href){u(window.location.href);return}window.scrollTo(f,p)}),ge=null}},[i]);return c.useEffect(()=>{function p(){g.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),c.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&v(),t||window.setTimeout(()=>{S()},500)):S())},[e,r,i,t,n,v,S]),{restorePositionSetting:S}}const Wt=new WeakMap;function A(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}r[a]=e.style[a],e.style[a]=o}),!n&&Wt.set(e,r)}function xe(e,t){if(!e||!(e instanceof HTMLElement))return;let n=Wt.get(e);n&&(t?e.style[t]=n[t]:Object.entries(n).forEach(([r,a])=>{e.style[r]=a}))}const L=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ye(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[L(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[L(t)?5:4]):null)}function or(e){return 8*(Math.log(e+1)-2)}const O={DURATION:.5,EASE:[.32,.72,0,1]},Vt=.4;function zt(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function ar({defaultProp:e,onChange:t}){const n=c.useState(e),[r]=n,a=c.useRef(r),o=zt(t);return c.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}function sr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=ar({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,u=zt(n),g=c.useCallback(v=>{if(o){const p=typeof v=="function"?v(e):v;p!==e&&u(p)}else a(v)},[o,e,a,u]);return[i,g]}function ir({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:o,onSnapPointChange:i,direction:u="bottom"}){const[g,v]=sr({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),S=c.useMemo(()=>g===(n==null?void 0:n[n.length-1])||null,[n,g]),p=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===g||!n,f=c.useMemo(()=>n==null?void 0:n.findIndex(y=>y===g),[n,g]),d=c.useMemo(()=>{var y;return(y=n==null?void 0:n.map(l=>{const R=typeof window<"u",M=typeof l=="string";let $=0;if(M&&($=parseInt(l,10)),L(u)){const w=M?$:R?l*window.innerHeight:0;return R?u==="bottom"?window.innerHeight-w:-window.innerHeight+w:w}const T=M?$:R?l*window.innerWidth:0;return R?u==="right"?window.innerWidth-T:-window.innerWidth+T:T}))!=null?y:[]},[n]),h=c.useMemo(()=>f!==null?d==null?void 0:d[f]:null,[d,f]),D=c.useCallback(y=>{var l;const R=(l=d==null?void 0:d.findIndex(M=>M===y))!=null?l:null;i(R),A(r.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:L(u)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`}),d&&R!==d.length-1&&R!==o?A(a.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):A(a.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),v(R!==null?n==null?void 0:n[R]:null)},[r.current,n,d,o,a,v]);c.useEffect(()=>{if(g||e){var y;const l=(y=n==null?void 0:n.findIndex(R=>R===e||R===g))!=null?y:-1;d&&l!==-1&&typeof d[l]=="number"&&D(d[l])}},[g,e,n,d,D]);function P({draggedDistance:y,closeDrawer:l,velocity:R,dismissible:M}){if(o===void 0)return;const $=u==="bottom"||u==="right"?(h??0)-y:(h??0)+y,T=f===o-1,w=f===0,k=y>0;if(T&&A(a.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),R>2&&!k){M?l():D(d[0]);return}if(R>2&&k&&d&&n){D(d[n.length-1]);return}const V=d==null?void 0:d.reduce((H,X)=>typeof H!="number"||typeof X!="number"?H:Math.abs(X-$)<Math.abs(H-$)?X:H),U=L(u)?window.innerHeight:window.innerWidth;if(R>Vt&&Math.abs(y)<U*.4){const H=k?1:-1;if(H>0&&S){D(d[n.length-1]);return}if(w&&H<0&&M&&l(),f===null)return;D(d[f+H]);return}D(V)}function N({draggedDistance:y}){if(h===null)return;const l=u==="bottom"||u==="right"?h-y:h+y;(u==="bottom"||u==="right")&&l<d[d.length-1]||(u==="top"||u==="left")&&l>d[d.length-1]||A(r.current,{transform:L(u)?`translate3d(0, ${l}px, 0)`:`translate3d(${l}px, 0, 0)`})}function I(y,l){if(!n||typeof f!="number"||!d||o===void 0)return null;const R=f===o-1;if(f>=o&&l)return 0;if(R&&!l)return 1;if(!p&&!R)return null;const $=R?f+1:f-1,T=R?d[$]-d[$-1]:d[$+1]-d[$],w=y/Math.abs(T);return R?1-w:w}return{isLastSnapPoint:S,activeSnapPoint:g,shouldFade:p,getPercentageDragged:I,setActiveSnapPoint:v,activeSnapPointIndex:f,onRelease:P,onDrag:N,snapPointsOffset:d}}const lr=.25,cr=100,ct=8,ee=16,ut=26,$e="vaul-dragging";function Bt({open:e,onOpenChange:t,children:n,shouldScaleBackground:r,onDrag:a,onRelease:o,snapPoints:i,nested:u=!1,setBackgroundColorOnScale:g=!0,closeThreshold:v=lr,scrollLockTimeout:S=cr,dismissible:p=!0,handleOnly:f=!1,fadeFromIndex:d=i&&i.length-1,activeSnapPoint:h,setActiveSnapPoint:D,fixed:P,modal:N=!0,onClose:I,noBodyStyles:y,direction:l="bottom",preventScrollRestoration:R=!0,disablePreventScroll:M=!1}){var $;const[T=!1,w]=c.useState(!1),[k,V]=c.useState(!1),[U,H]=c.useState(!1),[X,re]=c.useState(!1),[W,Te]=c.useState(!1),[ln,Qe]=c.useState(!1),Q=c.useRef(null),pe=c.useRef(null),Se=c.useRef(null),Ne=c.useRef(null),ce=c.useRef(null),ue=c.useRef(!1),Ie=c.useRef(null),Oe=c.useRef(0),oe=c.useRef(!1),Ze=c.useRef(0),x=c.useRef(null),et=c.useRef((($=x.current)==null?void 0:$.getBoundingClientRect().height)||0),Ae=c.useRef(0),cn=c.useCallback(b=>{i&&b===fe.length-1&&(pe.current=new Date)},[]),{activeSnapPoint:un,activeSnapPointIndex:de,setActiveSnapPoint:tt,onRelease:dn,snapPointsOffset:fe,onDrag:fn,shouldFade:nt,getPercentageDragged:mn}=ir({snapPoints:i,activeSnapPointProp:h,setActiveSnapPointProp:D,drawerRef:x,fadeFromIndex:d,overlayRef:Q,onSnapPointChange:cn,direction:l});Qn({isDisabled:!T||W||!N||ln||!k||M});const{restorePositionSetting:gn}=rr({isOpen:T,modal:N,nested:u,hasBeenOpened:k,preventScrollRestoration:R,noBodyStyles:y});function ae(){return(window.innerWidth-ut)/window.innerWidth}function pn(b){var E;!p&&!i||x.current&&!x.current.contains(b.target)||(et.current=((E=x.current)==null?void 0:E.getBoundingClientRect().height)||0,Te(!0),Se.current=new Date,Lt()&&window.addEventListener("touchend",()=>ue.current=!1,{once:!0}),b.target.setPointerCapture(b.pointerId),Oe.current=L(l)?b.clientY:b.clientX)}function rt(b,E){var j;let C=b;const _=(j=window.getSelection())==null?void 0:j.toString(),F=x.current?ye(x.current,l):null,z=new Date;if(C.hasAttribute("data-vaul-no-drag")||C.closest("[data-vaul-no-drag]"))return!1;if(l==="right"||l==="left")return!0;if(pe.current&&z.getTime()-pe.current.getTime()<500)return!1;if(F!==null&&(l==="bottom"?F>0:F<0))return!0;if(_&&_.length>0)return!1;if(ce.current&&z.getTime()-ce.current.getTime()<S&&F===0||E)return ce.current=z,!1;for(;C;){if(C.scrollHeight>C.clientHeight){if(C.scrollTop!==0)return ce.current=new Date,!1;if(C.getAttribute("role")==="dialog")return!0}C=C.parentNode}return!0}function hn(b){if(x.current&&W){const E=l==="bottom"||l==="right"?1:-1,j=(Oe.current-(L(l)?b.clientY:b.clientX))*E,C=j>0,_=i&&!p&&!C;if(_&&de===0)return;const F=Math.abs(j),z=document.querySelector("[vaul-drawer-wrapper]");let q=F/et.current;const J=mn(F,C);if(J!==null&&(q=J),_&&q>=1||!ue.current&&!rt(b.target,C))return;if(x.current.classList.add($e),ue.current=!0,A(x.current,{transition:"none"}),A(Q.current,{transition:"none"}),i&&fn({draggedDistance:j}),C&&!i){const Z=or(j),we=Math.min(Z*-1,0)*E;A(x.current,{transform:L(l)?`translate3d(0, ${we}px, 0)`:`translate3d(${we}px, 0, 0)`});return}const ve=1-q;if((nt||d&&de===d-1)&&(a==null||a(b,q),A(Q.current,{opacity:`${ve}`,transition:"none"},!0)),z&&Q.current&&r){const Z=Math.min(ae()+q*(1-ae()),1),we=8-q*8,at=Math.max(0,14-q*14);A(z,{borderRadius:`${we}px`,transform:L(l)?`scale(${Z}) translate3d(0, ${at}px, 0)`:`scale(${Z}) translate3d(${at}px, 0, 0)`,transition:"none"},!0)}if(!i){const Z=F*E;A(x.current,{transform:L(l)?`translate3d(0, ${Z}px, 0)`:`translate3d(${Z}px, 0, 0)`})}}}c.useEffect(()=>()=>{he(!1),gn()},[]),c.useEffect(()=>{var b;function E(){if(!x.current)return;const j=document.activeElement;if(Le(j)||oe.current){var C;const _=((C=window.visualViewport)==null?void 0:C.height)||0;let F=window.innerHeight-_;const z=x.current.getBoundingClientRect().height||0;Ae.current||(Ae.current=z);const q=x.current.getBoundingClientRect().top;if(Math.abs(Ze.current-F)>60&&(oe.current=!oe.current),i&&i.length>0&&fe&&de){const J=fe[de]||0;F+=J}if(Ze.current=F,z>_||oe.current){const J=x.current.getBoundingClientRect().height;let ve=J;J>_&&(ve=_-ut),P?x.current.style.height=`${J-Math.max(F,0)}px`:x.current.style.height=`${Math.max(ve,_-q)}px`}else x.current.style.height=`${Ae.current}px`;i&&i.length>0&&!oe.current?x.current.style.bottom="0px":x.current.style.bottom=`${Math.max(F,0)}px`}}return(b=window.visualViewport)==null||b.addEventListener("resize",E),()=>{var j;return(j=window.visualViewport)==null?void 0:j.removeEventListener("resize",E)}},[de,i,fe]);function se(){x.current&&(vn(),I==null||I(),A(x.current,{transform:L(l)?`translate3d(0, ${l==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${l==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),A(Q.current,{opacity:"0",transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),he(!1),setTimeout(()=>{H(!1),w(!1)},300),setTimeout(()=>{i&&tt(i[0])},O.DURATION*1e3))}c.useEffect(()=>{if(!T&&r){const b=setTimeout(()=>{xe(document.body)},200);return()=>clearTimeout(b)}},[T,r]),c.useLayoutEffect(()=>{e?(w(!0),V(!0)):se()},[e]),c.useEffect(()=>{X&&(t==null||t(T))},[T]),c.useEffect(()=>{re(!0)},[]);function ot(){if(!x.current)return;const b=document.querySelector("[vaul-drawer-wrapper]"),E=ye(x.current,l);A(x.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),A(Q.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),r&&E&&E>0&&T&&A(b,{borderRadius:`${ct}px`,overflow:"hidden",...L(l)?{transform:`scale(${ae()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ae()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function vn(){!W||!x.current||(x.current.classList.remove($e),ue.current=!1,Te(!1),Ne.current=new Date)}function wn(b){if(!W||!x.current)return;x.current.classList.remove($e),ue.current=!1,Te(!1),Ne.current=new Date;const E=ye(x.current,l);if(!rt(b.target,!1)||!E||Number.isNaN(E)||Se.current===null)return;const j=Ne.current.getTime()-Se.current.getTime(),C=Oe.current-(L(l)?b.clientY:b.clientX),_=Math.abs(C)/j;if(_>.05&&(Qe(!0),setTimeout(()=>{Qe(!1)},200)),i){dn({draggedDistance:C*(l==="bottom"||l==="right"?1:-1),closeDrawer:se,velocity:_,dismissible:p}),o==null||o(b,!0);return}if(l==="bottom"||l==="right"?C>0:C<0){ot(),o==null||o(b,!0);return}if(_>Vt){se(),o==null||o(b,!1);return}var F;const z=Math.min((F=x.current.getBoundingClientRect().height)!=null?F:0,window.innerHeight);if(E>=z*v){se(),o==null||o(b,!1);return}o==null||o(b,!0),ot()}c.useEffect(()=>{T&&(A(document.documentElement,{scrollBehavior:"auto"}),pe.current=new Date,he(!0))},[T]),c.useEffect(()=>{if(x.current&&U){var b;const E=x==null||(b=x.current)==null?void 0:b.querySelectorAll("*");E==null||E.forEach(j=>{const C=j;(C.scrollHeight>C.clientHeight||C.scrollWidth>C.clientWidth)&&C.classList.add("vaul-scrollable")})}},[U]);function he(b){const E=document.querySelector("[vaul-drawer-wrapper]");!E||!r||(b?(g&&(y||(A(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),A(document.body,{background:"black"},!0))),A(E,{borderRadius:`${ct}px`,overflow:"hidden",...L(l)?{transform:`scale(${ae()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ae()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`})):(xe(E,"overflow"),xe(E,"transform"),xe(E,"borderRadius"),A(E,{transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`})))}function bn(b){const E=b?(window.innerWidth-ee)/window.innerWidth:1,j=b?-ee:0;Ie.current&&window.clearTimeout(Ie.current),A(x.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:`scale(${E}) translate3d(0, ${j}px, 0)`}),!b&&x.current&&(Ie.current=setTimeout(()=>{const C=ye(x.current,l);A(x.current,{transition:"none",transform:L(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})},500))}function xn(b,E){if(E<0)return;const j=L(l)?window.innerHeight:window.innerWidth,C=(j-ee)/j,_=C+E*(1-C),F=-ee+E*ee;A(x.current,{transform:L(l)?`scale(${_}) translate3d(0, ${F}px, 0)`:`scale(${_}) translate3d(${F}px, 0, 0)`,transition:"none"})}function yn(b,E){const j=L(l)?window.innerHeight:window.innerWidth,C=E?(j-ee)/j:1,_=E?-ee:0;E&&A(x.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:L(l)?`scale(${C}) translate3d(0, ${_}px, 0)`:`scale(${C}) translate3d(${_}px, 0, 0)`})}return c.createElement(Nt,{modal:N,onOpenChange:b=>{if(e!==void 0){t==null||t(b);return}b?(V(!0),w(b)):se()},open:T},c.createElement(Ft.Provider,{value:{visible:U,activeSnapPoint:un,snapPoints:i,setActiveSnapPoint:tt,drawerRef:x,overlayRef:Q,scaleBackground:he,onOpenChange:t,onPress:pn,setVisible:H,onRelease:wn,onDrag:hn,dismissible:p,handleOnly:f,isOpen:T,isDragging:W,shouldFade:nt,closeDrawer:se,onNestedDrag:xn,onNestedOpenChange:bn,onNestedRelease:yn,keyboardIsOpen:oe,openProp:e,modal:N,snapPointsOffset:fe,direction:l}},n))}const ur=250,dr=120,Gt=c.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{visible:a,closeDrawer:o,isDragging:i,snapPoints:u,activeSnapPoint:g,setActiveSnapPoint:v,dismissible:S,handleOnly:p,onPress:f,onDrag:d}=Ee(),h=c.useRef(null),D=c.useRef(!1);function P(){if(D.current){y();return}window.setTimeout(()=>{N()},dr)}function N(){if(i||e||D.current){y();return}if(y(),(!u||u.length===0)&&S){o();return}if(g===u[u.length-1]&&S){o();return}const R=u.findIndex($=>$===g);if(R===-1)return;const M=u[R+1];v(M)}function I(){h.current=window.setTimeout(()=>{D.current=!0},ur)}function y(){window.clearTimeout(h.current),D.current=!1}return c.createElement("div",{onClick:P,onDoubleClick:()=>{D.current=!0,o()},onPointerCancel:y,onPointerDown:l=>{p&&f(l),I()},onPointerMove:l=>{p&&d(l)},ref:r,"vaul-drawer-visible":a?"true":"false","vaul-handle":"","aria-hidden":"true",...n},c.createElement("span",{"vaul-handle-hitarea":"","aria-hidden":"true"},t))});Gt.displayName="Drawer.Handle";const Yt=c.forwardRef(function({children:e,...t},n){const{overlayRef:r,snapPoints:a,onRelease:o,shouldFade:i,isOpen:u,visible:g}=Ee(),v=Ut(n,r),S=a&&a.length>0;return c.createElement(Ge,{onMouseUp:o,ref:v,"vaul-drawer-visible":g?"true":"false","vaul-overlay":"","vaul-snap-points":u&&S?"true":"false","vaul-snap-points-overlay":u&&i?"true":"false",...t})});Yt.displayName="Drawer.Overlay";const Kt=c.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:t,onAnimationEnd:n,style:r,...a},o){const{drawerRef:i,onPress:u,onRelease:g,onDrag:v,dismissible:S,keyboardIsOpen:p,snapPointsOffset:f,visible:d,closeDrawer:h,modal:D,openProp:P,onOpenChange:N,setVisible:I,handleOnly:y,direction:l}=Ee(),R=Ut(o,i),M=c.useRef(null),$=c.useRef(!1),T=(w,k,V=0)=>{if($.current)return!0;const U=Math.abs(w.y),H=Math.abs(w.x),X=H>U,re=["bottom","right"].includes(k)?1:-1;if(k==="left"||k==="right"){if(!(w.x*re<0)&&H>=0&&H<=V)return X}else if(!(w.y*re<0)&&U>=0&&U<=V)return!X;return $.current=!0,!0};return c.useEffect(()=>{I(!0)},[]),c.createElement(Ye,{"vaul-drawer":"","vaul-drawer-direction":l,"vaul-drawer-visible":d?"true":"false",...a,ref:R,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...r}:r,onOpenAutoFocus:w=>{if(e)e(w);else{var k;w.preventDefault(),(k=i.current)==null||k.focus()}},onPointerDown:w=>{y||(a.onPointerDown==null||a.onPointerDown.call(a,w),M.current={x:w.clientX,y:w.clientY},u(w))},onPointerDownOutside:w=>{if(t==null||t(w),!D||w.defaultPrevented){w.preventDefault();return}p.current&&(p.current=!1),w.preventDefault(),N==null||N(!1),!(!S||P!==void 0)&&h()},onFocusOutside:w=>{if(!D){w.preventDefault();return}},onEscapeKeyDown:w=>{if(!D){w.preventDefault();return}},onPointerMove:w=>{if(y||(a.onPointerMove==null||a.onPointerMove.call(a,w),!M.current))return;const k=w.clientY-M.current.y,V=w.clientX-M.current.x,U=w.pointerType==="touch"?10:2;T({x:V,y:k},l,U)?v(w):(Math.abs(V)>U||Math.abs(k)>U)&&(M.current=null)},onPointerUp:w=>{a.onPointerUp==null||a.onPointerUp.call(a,w),M.current=null,$.current=!1,g(w)}})});Kt.displayName="Drawer.Content";function fr({onDrag:e,onOpenChange:t,...n}){const{onNestedDrag:r,onNestedOpenChange:a,onNestedRelease:o}=Ee();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return c.createElement(Bt,{nested:!0,onClose:()=>{a(!1)},onDrag:(i,u)=>{r(i,u),e==null||e(i,u)},onOpenChange:i=>{i&&a(i),t==null||t(i)},onRelease:o,...n})}const K={Root:Bt,NestedRoot:fr,Content:Kt,Handle:Gt,Overlay:Yt,Trigger:It,Portal:Ot,Close:qe,Title:Ke,Description:Xe},Xt=({shouldScaleBackground:e=!0,...t})=>s.jsx(K.Root,{shouldScaleBackground:e,...t});Xt.displayName="Drawer";const mr=K.Trigger,gr=K.Portal,pr=K.Close,qt=m.forwardRef(({className:e,...t},n)=>s.jsx(K.Overlay,{ref:n,className:B("fixed inset-0 z-50 bg-black/80",e),...t}));qt.displayName=K.Overlay.displayName;const Jt=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(gr,{children:[s.jsx(qt,{}),s.jsxs(K.Content,{ref:r,className:B("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[s.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));Jt.displayName="DrawerContent";const Qt=({className:e,...t})=>s.jsx("div",{className:B("grid gap-1.5 p-4 text-left",e),...t});Qt.displayName="DrawerHeader";const Zt=({className:e,...t})=>s.jsx("div",{className:B("mt-auto flex flex-col gap-2 p-4",e),...t});Zt.displayName="DrawerFooter";const en=m.forwardRef(({className:e,...t},n)=>s.jsx(K.Title,{ref:n,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));en.displayName=K.Title.displayName;const tn=m.forwardRef(({className:e,...t},n)=>s.jsx(K.Description,{ref:n,className:B("text-sm text-muted-foreground",e),...t}));tn.displayName=K.Description.displayName;const hr=({id:e,action:t=null,actionLabel:n,title:r,description:a,successMessage:o=null,trigger:i,variant:u="outline",triggerVariant:g,defaultOpen:v=!1,cancelText:S="Annuler"})=>{const[p,f]=m.useState(v),[d,h]=m.useState(!1),[D,P]=m.useState(null),N=Mn("(min-width: 768px)"),I=async R=>{R.preventDefault(),h(!0);try{await t(e),o&&En.success(o),f(!1)}catch{P("Une erreur est survenue, veuillez contacter le support.")}h(!1)},y=()=>s.jsxs(s.Fragment,{children:[s.jsxs(Mt,{children:[s.jsx(Pt,{className:u=="destructive"&&"text-destructive",children:r}),s.jsx(_t,{className:"whitespace-pre-line",children:a})]}),D&&s.jsx("p",{className:"text-destructive text-sm",children:D}),s.jsx($t,{className:"sm:justify-start",children:s.jsxs("div",{className:"w-full flex items-center justify-between",children:[t&&s.jsx(ie,{onClick:I,variant:u,disabled:d,children:d?s.jsx(st,{className:"animate-spin"}):n}),s.jsx(Bn,{asChild:!0,children:s.jsx(ie,{variant:"outline",children:S})})]})})]}),l=()=>s.jsxs(s.Fragment,{children:[s.jsxs(Qt,{children:[s.jsx(en,{className:u=="destructive"&&"text-destructive",children:r}),s.jsx(tn,{className:"whitespace-pre-line",children:a})]}),D&&s.jsx("p",{className:"text-destructive text-sm",children:D}),s.jsx(Zt,{className:"pt-2",children:s.jsxs("div",{className:"space-y-2",children:[t&&s.jsx(ie,{className:"w-full",onClick:I,variant:u,disabled:d,children:d?s.jsx(st,{className:"animate-spin"}):n}),s.jsx(pr,{asChild:!0,children:s.jsx(ie,{className:"w-full",variant:"outline",children:S})})]})})]});return s.jsx(s.Fragment,{children:N?s.jsxs(Wn,{open:p,onOpenChange:f,children:[s.jsx(Vn,{asChild:!0,children:s.jsx(ie,{variant:g||u,children:i})}),s.jsx(jt,{className:"sm:max-w-[425px]",children:s.jsx(y,{})})]}):s.jsxs(Xt,{open:p,onOpenChange:f,children:[s.jsx(mr,{asChild:!0,children:s.jsx(ie,{variant:g||u,children:i})}),s.jsx(Jt,{children:s.jsx(l,{})})]})})},$r=hr;function vr(e){const t=e+"CollectionProvider",[n,r]=He(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=d=>{const{scope:h,children:D}=d,P=c.useRef(null),N=c.useRef(new Map).current;return s.jsx(a,{scope:h,itemMap:N,collectionRef:P,children:D})};i.displayName=t;const u=e+"CollectionSlot",g=c.forwardRef((d,h)=>{const{scope:D,children:P}=d,N=o(u,D),I=le(h,N.collectionRef);return s.jsx(_e,{ref:I,children:P})});g.displayName=u;const v=e+"CollectionItemSlot",S="data-radix-collection-item",p=c.forwardRef((d,h)=>{const{scope:D,children:P,...N}=d,I=c.useRef(null),y=le(h,I),l=o(v,D);return c.useEffect(()=>(l.itemMap.set(I,{ref:I,...N}),()=>void l.itemMap.delete(I))),s.jsx(_e,{[S]:"",ref:y,children:P})});p.displayName=v;function f(d){const h=o(e+"CollectionConsumer",d);return c.useCallback(()=>{const P=h.collectionRef.current;if(!P)return[];const N=Array.from(P.querySelectorAll(`[${S}]`));return Array.from(h.itemMap.values()).sort((l,R)=>N.indexOf(l.ref.current)-N.indexOf(R.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:i,Slot:g,ItemSlot:p},f,r]}var wr=m.createContext(void 0);function br(e){const t=m.useContext(wr);return e||t||"ltr"}var Pe="rovingFocusGroup.onEntryFocus",xr={bubbles:!1,cancelable:!0},Ce="RovingFocusGroup",[ke,nn,yr]=vr(Ce),[Dr,Pr]=He(Ce,[yr]),[Rr,Er]=Dr(Ce),rn=m.forwardRef((e,t)=>s.jsx(ke.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ke.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Cr,{...e,ref:t})})}));rn.displayName=Ce;var Cr=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:g,onEntryFocus:v,preventScrollOnEntryFocus:S=!1,...p}=e,f=m.useRef(null),d=le(t,f),h=br(o),[D=null,P]=dt({prop:i,defaultProp:u,onChange:g}),[N,I]=m.useState(!1),y=Cn(v),l=nn(n),R=m.useRef(!1),[M,$]=m.useState(0);return m.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Pe,y),()=>T.removeEventListener(Pe,y)},[y]),s.jsx(Rr,{scope:n,orientation:r,dir:h,loop:a,currentTabStopId:D,onItemFocus:m.useCallback(T=>P(T),[P]),onItemShiftTab:m.useCallback(()=>I(!0),[]),onFocusableItemAdd:m.useCallback(()=>$(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>$(T=>T-1),[]),children:s.jsx(ne.div,{tabIndex:N||M===0?-1:0,"data-orientation":r,...p,ref:d,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{R.current=!0}),onFocus:G(e.onFocus,T=>{const w=!R.current;if(T.target===T.currentTarget&&w&&!N){const k=new CustomEvent(Pe,xr);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const V=l().filter(W=>W.focusable),U=V.find(W=>W.active),H=V.find(W=>W.id===D),re=[U,H,...V].filter(Boolean).map(W=>W.ref.current);sn(re,S)}}R.current=!1}),onBlur:G(e.onBlur,()=>I(!1))})})}),on="RovingFocusGroupItem",an=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...i}=e,u=De(),g=o||u,v=Er(on,n),S=v.currentTabStopId===g,p=nn(n),{onFocusableItemAdd:f,onFocusableItemRemove:d}=v;return m.useEffect(()=>{if(r)return f(),()=>d()},[r,f,d]),s.jsx(ke.ItemSlot,{scope:n,id:g,focusable:r,active:a,children:s.jsx(ne.span,{tabIndex:S?0:-1,"data-orientation":v.orientation,...i,ref:t,onMouseDown:G(e.onMouseDown,h=>{r?v.onItemFocus(g):h.preventDefault()}),onFocus:G(e.onFocus,()=>v.onItemFocus(g)),onKeyDown:G(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){v.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const D=Nr(h,v.orientation,v.dir);if(D!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let N=p().filter(I=>I.focusable).map(I=>I.ref.current);if(D==="last")N.reverse();else if(D==="prev"||D==="next"){D==="prev"&&N.reverse();const I=N.indexOf(h.currentTarget);N=v.loop?Ir(N,I+1):N.slice(I+1)}setTimeout(()=>sn(N))}})})})});an.displayName=on;var Tr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Sr(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Nr(e,t,n){const r=Sr(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tr[r]}function sn(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ir(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _r=rn,Fr=an;export{Wn as D,Fr as I,$r as M,_r as R,Vn as a,jt as b,Mt as c,Pt as d,_t as e,$t as f,Bn as g,Xt as h,mr as i,Jt as j,Qt as k,en as l,tn as m,Zt as n,pr as o,Pr as p,br as q,vr as r,Mn as u};
