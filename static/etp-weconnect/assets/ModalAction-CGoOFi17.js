import{r as l,j as e,B as r,p,J as D}from"./index-BI3dSPWw.js";import{u as y,D as k,a as F,b,e as M,f as T,g as A,c as E,d as O,j as S,k as B,h as H,i as J,m as z,n as L}from"./drawer-DBE-bSKx.js";const Q=({id:g,action:f,actionLabel:i,title:c,description:o,successMessage:d=null,trigger:x,variant:s="outline",triggerVariant:j})=>{const[h,n]=l.useState(!1),[t,u]=l.useState(!1),[a,R]=l.useState(null),w=y("(min-width: 768px)"),m=async v=>{v.preventDefault(),u(!0);try{await f(g),d&&D.success(d),n(!1)}catch{D.error("Une erreur est survenue, veuillez contacter le support.")}u(!1)},N=()=>e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx(O,{className:s=="destructive"&&"text-destructive",children:c}),e.jsx(S,{children:o})]}),a&&e.jsx("p",{className:"text-destructive text-sm",children:a}),e.jsx(B,{className:"sm:justify-start",children:e.jsx("div",{className:"w-full flex items-center justify-between",children:e.jsx(r,{onClick:m,variant:s,disabled:t,children:t?e.jsx(p,{className:"animate-spin"}):i})})})]}),C=()=>e.jsxs(e.Fragment,{children:[e.jsxs(H,{children:[e.jsx(J,{className:s=="destructive"&&"text-destructive",children:c}),e.jsx(z,{children:o})]}),a&&e.jsx("p",{className:"text-destructive text-sm",children:a}),e.jsx(L,{className:"pt-2",children:e.jsx("div",{className:"space-y-2",children:e.jsx(r,{className:"w-full",onClick:m,variant:s,disabled:t,children:t?e.jsx(p,{className:"animate-spin"}):i})})})]});return e.jsx(e.Fragment,{children:w?e.jsxs(k,{open:h,onOpenChange:n,children:[e.jsx(F,{asChild:!0,children:e.jsx(r,{variant:j||s,children:x})}),e.jsx(b,{className:"sm:max-w-[425px]",children:e.jsx(N,{})})]}):e.jsxs(M,{open:h,onOpenChange:n,children:[e.jsx(T,{asChild:!0,children:e.jsx(r,{variant:j||s,children:x})}),e.jsx(A,{children:e.jsx(C,{})})]})})},G=Q;export{G as M};
